<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processo Claro - Sistema Completo</title>
    <style>
        /* ===== ESTILO COMPLETO ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --azul-principal: #1a3c8b;
            --azul-claro: #4dabf7;
            --azul-bg: #e7f5ff;
            --cinza-claro: #f8f9fa;
            --cinza: #495057;
            --verde: #40c057;
            --branco: #ffffff;
            --sombra: 0 5px 15px rgba(0,0,0,0.08);
            --radius: 10px;
        }
        
        body {
            background-color: var(--cinza-claro);
            color: var(--cinza);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* HEADER */
        .header {
            background: var(--azul-principal);
            color: var(--branco);
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--branco);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--azul-claro);
        }
        
        .nav a {
            color: var(--branco);
            text-decoration: none;
            margin-left: 1.5rem;
            font-weight: 500;
        }
        
        /* BOT√ïES */
        .btn {
            display: inline-block;
            background: var(--azul-claro);
            color: var(--branco);
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            text-align: center;
        }
        
        .btn:hover {
            background: #339af0;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-success {
            background: var(--verde);
        }
        
        .btn-success:hover {
            background: #37b24d;
        }
        
        .btn-secondary {
            background: var(--branco);
            color: var(--azul-principal);
            border: 2px solid var(--azul-principal);
        }
        
        .btn-secondary:hover {
            background: var(--cinza-claro);
        }
        
        /* FORMUL√ÅRIOS */
        .form-container {
            background: var(--branco);
            padding: 2rem;
            border-radius: var(--radius);
            box-shadow: var(--sombra);
            max-width: 500px;
            margin: 2rem auto;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--cinza);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--radius);
            font-size: 1rem;
        }
        
        input:focus {
            outline: none;
            border-color: var(--azul-claro);
            box-shadow: 0 0 0 3px rgba(77, 171, 247, 0.1);
        }
        
        /* HERO */
        .hero {
            padding: 4rem 0;
            text-align: center;
            background: linear-gradient(135deg, var(--azul-bg) 0%, #f3e5f5 100%);
        }
        
        .hero h1 {
            font-size: 2.2rem;
            color: var(--azul-principal);
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            color: var(--cinza);
        }
        
        /* CARDS */
        .card {
            background: var(--branco);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--sombra);
            margin-bottom: 1.5rem;
        }
        
        .plan-card {
            border: 2px solid var(--cinza-claro);
            transition: transform 0.3s;
        }
        
        .plan-card:hover {
            transform: translateY(-5px);
        }
        
        .plan-card.featured {
            border-color: var(--azul-claro);
        }
        
        /* PROCESS STEPS */
        .process-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #dee2e6;
        }
        
        .step-icon {
            background: var(--azul-claro);
            color: var(--branco);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
        }
        
        /* ALERTAS */
        .alert {
            padding: 1rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
        }
        
        .alert-info {
            background: var(--azul-bg);
            border-left: 4px solid var(--azul-claro);
            color: var(--azul-principal);
        }
        
        .alert-success {
            background: #d3f9d8;
            border-left: 4px solid var(--verde);
            color: #2b8a3e;
        }
        
        .alert-warning {
            background: #fff3bf;
            border-left: 4px solid #fcc419;
            color: #e67700;
        }
        
        /* RESPONSIVO */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            
            .nav a {
                margin: 0 0.5rem;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
        }
        
        /* TELAS OCULTAS INICIALMENTE */
        .tela {
            display: none;
        }
        
        .tela.ativa {
            display: block;
        }
        
        /* PLANOS */
        .planos-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
            margin: 2rem 0;
        }
        
        .plan-name {
            font-size: 1.5rem;
            color: var(--azul-principal);
            margin-bottom: 0.5rem;
        }
        
        .plan-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--azul-claro);
            margin-bottom: 1rem;
        }
        
        /* NOVOS ESTILOS PARA RECUPERA√á√ÉO DE SENHA */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #4dabf7;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            background-color: #ffeaea;
            color: #d63031;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #d63031;
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #28a745;
        }
        
        /* ESTILOS PARA MENSAGENS NO LOGIN */
        .login-message {
            text-align: center;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .login-message a {
            color: #4dabf7;
            text-decoration: none;
            font-weight: 600;
        }
        
        .login-message a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- HEADER FIXO -->
    <header class="header">
        <div class="container header-content">
            <a href="#" class="logo" onclick="mostrarTela('inicio')">Processo<span>Claro</span></a>
            <nav class="nav" id="nav-menu">
                <!-- Menu ser√° preenchido por JS -->
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- ===== TELA 1: IN√çCIO/CADASTRO ===== -->
        <section id="tela-inicio" class="tela ativa">
            <div class="hero">
                <h1>Descubra o status do seu processo judicial em 2 minutos</h1>
                <p>Consulta gratuita ‚Ä¢ Explica√ß√£o simples ‚Ä¢ Sem juridiqu√™s</p>
            </div>

            <div class="form-container">
                <h2 style="text-align: center; color: #1a3c8b; margin-bottom: 1.5rem;">Fa√ßa seu cadastro gr√°tis</h2>
                
                <form id="form-cadastro">
                    <div class="form-group">
                        <label for="nome">Nome Completo *</label>
                        <input type="text" id="nome" placeholder="Seu nome completo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">E-mail *</label>
                        <input type="email" id="email" placeholder="seu@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="whatsapp">WhatsApp (com DDD) *</label>
                        <input type="tel" id="whatsapp" placeholder="(11) 99999-9999" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="senha">Crie uma Senha *</label>
                        <input type="password" id="senha" placeholder="M√≠nimo 6 caracteres" required minlength="6">
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmar-senha-cadastro">Confirmar Senha *</label>
                        <input type="password" id="confirmar-senha-cadastro" placeholder="Digite novamente" required minlength="6">
                    </div>
                    
                    <button type="submit" class="btn btn-block">FAZER CADASTRO E CONSULTAR GR√ÅTIS</button>
                    
                    <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: #666;">
                        Ao continuar, voc√™ concorda com nossos Termos.
                    </p>
                </form>
                
                <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #eee;">
                    <p>J√° tem cadastro? <a href="#" onclick="mostrarTela('login')" style="color: #4dabf7; font-weight: 600;">Fa√ßa login</a></p>
                </div>
            </div>

            <div class="alert alert-info" style="max-width: 800px; margin: 2rem auto;">
                <h3 style="margin-bottom: 0.5rem;">Como funciona:</h3>
                <ol style="padding-left: 1.5rem;">
                    <li>Fa√ßa cadastro r√°pido (30 segundos)</li>
                    <li>Acesse a consulta gratuita</li>
                    <li>Digite o n√∫mero do processo</li>
                    <li>Receba o status em linguagem simples</li>
                    <li>Para an√°lise completa, assine um plano</li>
                </ol>
                <p style="margin-top: 1rem; font-size: 0.9rem;">
                    <strong>‚ö†Ô∏è Importante:</strong> Servi√ßo informativo. N√£o substitu√≠mos advogado.
                </p>
            </div>
        </section>

        <!-- ===== TELA 2: LOGIN ===== -->
        <section id="tela-login" class="tela">
            <div class="form-container">
                <h1 style="text-align: center; color: #1a3c8b; margin-bottom: 0.5rem;">Acesse sua conta</h1>
                <p style="text-align: center; color: #666; margin-bottom: 2rem;">Entre com seu e-mail e senha</p>
                
                <form id="form-login">
                    <div class="form-group">
                        <label for="login-email">E-mail</label>
                        <input type="email" id="login-email" placeholder="seu@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-senha">Senha</label>
                        <input type="password" id="login-senha" placeholder="Sua senha" required>
                    </div>
                    
                    <button type="submit" class="btn btn-block">ENTRAR NA MINHA CONTA</button>
                    
                    <div class="login-message">
                        <a href="#" onclick="mostrarTela('recuperacao')">Esqueci minha senha</a>
                    </div>
                </form>
                
                <div style="text-align: center; margin-top: 1.5rem;">
                    <p>N√£o tem conta? <a href="#" onclick="mostrarTela('inicio')" style="color: #4dabf7; font-weight: 600;">Fa√ßa seu cadastro gr√°tis</a></p>
                </div>
            </div>
        </section>

        <!-- ===== TELA 3: RECUPERA√á√ÉO DE SENHA ===== -->
        <section id="tela-recuperacao" class="tela">
            <div class="form-container">
                <h1 style="text-align: center; color: #1a3c8b;">Recuperar Senha</h1>
                
                <!-- Etapa 1: Solicitar recupera√ß√£o -->
                <div id="etapa1-recuperacao">
                    <p style="text-align: center; margin-bottom: 1.5rem;">
                        Digite seu e-mail cadastrado para receber um token de recupera√ß√£o
                    </p>
                    
                    <form id="form-solicitar-recuperacao">
                        <div class="form-group">
                            <label for="email-recuperacao">E-mail cadastrado</label>
                            <input type="email" id="email-recuperacao" placeholder="seu@email.com" required>
                        </div>
                        
                        <button type="submit" class="btn btn-block">ENVIAR TOKEN DE RECUPERA√á√ÉO</button>
                    </form>
                    
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <p>Lembrou da senha? <a href="#" onclick="mostrarTela('login')" style="color: #4dabf7;">Fa√ßa login</a></p>
                    </div>
                </div>
                
                <!-- Etapa 2: Inserir token e nova senha -->
                <div id="etapa2-recuperacao" style="display: none;">
                    <p style="text-align: center; margin-bottom: 1.5rem;">
                        Digite o token recebido por e-mail e sua nova senha
                    </p>
                    
                    <form id="form-alterar-senha">
                        <input type="hidden" id="email-token">
                        
                        <div class="form-group">
                            <label for="token-recuperacao">Token de recupera√ß√£o</label>
                            <input type="text" id="token-recuperacao" placeholder="Ex: ABC123DEF" required>
                            <small style="color: #666;">Verifique sua caixa de e-mail (e spam)</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="nova-senha">Nova Senha</label>
                            <input type="password" id="nova-senha" placeholder="M√≠nimo 6 caracteres" required minlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmar-senha">Confirmar Nova Senha</label>
                            <input type="password" id="confirmar-senha" placeholder="Digite novamente" required minlength="6">
                        </div>
                        
                        <button type="submit" class="btn btn-block btn-success">ALTERAR SENHA</button>
                    </form>
                    
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <button onclick="voltarEtapa1Recuperacao()" class="btn btn-secondary">Voltar</button>
                    </div>
                </div>
                
                <!-- Loader -->
                <div id="loader-recuperacao" class="loader"></div>
                
                <!-- Mensagens -->
                <div id="mensagem-recuperacao"></div>
            </div>
        </section>

        <!-- ===== TELA 4: CONSULTA GR√ÅTIS ===== -->
        <section id="tela-consulta" class="tela">
            <div class="hero">
                <h1>Consulta Gratuita do Seu Processo</h1>
                <p>Digite o n√∫mero do processo para ver o status atual</p>
            </div>

            <div class="form-container">
                <h2 style="text-align: center; color: #1a3c8b;">Digite o n√∫mero do processo</h2>
                
                <form id="form-consulta">
                    <div class="form-group">
                        <label for="numero-processo">N√∫mero do Processo *</label>
                        <input type="text" id="numero-processo" placeholder="Ex: 0000000-00.0000.0.00.0000" required>
                        <small style="color: #666;">Digite qualquer n√∫mero para teste</small>
                    </div>
                    
                    <button type="submit" class="btn btn-block">CONSULTAR STATUS GRATUITO</button>
                </form>
            </div>

            <!-- Resultado da consulta -->
            <div id="resultado-consulta" class="card" style="display: none; max-width: 800px; margin: 2rem auto;">
                <h2 style="color: #1a3c8b; margin-bottom: 1rem;">Resultado da Consulta</h2>
                
                <div class="process-step">
                    <div class="step-icon">1</div>
                    <div>
                        <h3 style="margin-bottom: 0.2rem;">Status Atual</h3>
                        <p><strong style="color: #4dabf7;">Aguardando designa√ß√£o de audi√™ncia</strong></p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-icon">2</div>
                    <div>
                        <h3 style="margin-bottom: 0.2rem;">√öltima Movimenta√ß√£o</h3>
                        <p>Peti√ß√£o inicial protocolada em 15/03/2024</p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-icon">3</div>
                    <div>
                        <h3 style="margin-bottom: 0.2rem;">Pr√≥ximo Prazo</h3>
                        <p>Designa√ß√£o de audi√™ncia - estimado em 30 dias</p>
                    </div>
                </div>
                
                <div class="alert alert-warning">
                    <p><strong>Consulta B√°sica</strong> - Para entender o que significa cada etapa, pr√≥ximos passos e an√°lise completa:</p>
                    <div style="text-align: center; margin-top: 1rem;">
                        <button onclick="mostrarTela('planos')" class="btn btn-success">VER AN√ÅLISE COMPLETA (R$ 29,90)</button>
                        <p style="margin-top: 0.5rem; font-size: 0.9rem;">ou assine um de nossos planos mensais</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 1.5rem;">
                    <button onclick="mostrarTela('consulta')" class="btn btn-secondary">FAZER OUTRA CONSULTA</button>
                </div>
            </div>
        </section>

        <!-- ===== TELA 5: PLANOS ===== -->
        <section id="tela-planos" class="tela">
            <div class="hero">
                <h1>Escolha o plano ideal para voc√™</h1>
                <p>Entenda completamente seu processo judicial</p>
            </div>

            <div class="planos-container">
                <!-- Plano 1 -->
                <div class="card plan-card" style="flex: 1; min-width: 300px;">
                    <div class="plan-name">Acompanhamento B√°sico</div>
                    <div class="plan-price">R$ 9,90<span style="font-size: 1rem; color: #666;">/m√™s</span></div>
                    
                    <ul style="list-style: none; margin: 1.5rem 0;">
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Acompanhamento do processo</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Atualiza√ß√µes em at√© 24h</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Notifica√ß√µes por e-mail</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Linguagem simples</li>
                        <li style="padding: 0.5rem 0;">‚úì Suporte por e-mail</li>
                    </ul>
                    
                    <button onclick="selecionarPlano('basico')" class="btn btn-secondary btn-block">SELECIONAR PLANO</button>
                </div>
                
                <!-- Plano 2 (Destaque) -->
                <div class="card plan-card featured" style="flex: 1; min-width: 300px;">
                    <div style="background: #4dabf7; color: white; padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 1rem; font-size: 0.9rem;">MAIS POPULAR</div>
                    <div class="plan-name">Relat√≥rio Completo</div>
                    <div class="plan-price">R$ 29,90<span style="font-size: 1rem; color: #666;">/m√™s</span></div>
                    
                    <ul style="list-style: none; margin: 1.5rem 0;">
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Tudo do Plano B√°sico +</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Relat√≥rio mensal em PDF</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì An√°lise por advogado</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Explica√ß√£o detalhada</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Pr√≥ximos passos</li>
                        <li style="padding: 0.5rem 0;">‚úì Entrega em at√© 48h</li>
                    </ul>
                    
                    <button onclick="selecionarPlano('completo')" class="btn btn-block">SELECIONAR PLANO</button>
                </div>
                
                <!-- Pagamento √önico -->
                <div class="card plan-card" style="flex: 1; min-width: 300px;">
                    <div class="plan-name">An√°lise Pontual</div>
                    <div class="plan-price">R$ 49,90<span style="font-size: 1rem; color: #666;">/√∫nico</span></div>
                    
                    <ul style="list-style: none; margin: 1.5rem 0;">
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Relat√≥rio completo √∫nico</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì An√°lise do processo atual</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Explica√ß√£o passo a passo</li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">‚úì Recomenda√ß√µes</li>
                        <li style="padding: 0.5rem 0;">‚úì PDF entregue em 48h</li>
                    </ul>
                    
                    <button onclick="selecionarPlano('pontual')" class="btn btn-secondary btn-block">COMPRAR AN√ÅLISE</button>
                </div>
            </div>

            <!-- Formul√°rio de pagamento -->
            <div id="pagamento-container" class="form-container" style="display: none;">
                <h2 style="text-align: center; color: #1a3c8b;">Finalizar Compra</h2>
                <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">Plano selecionado: <strong id="plano-selecionado"></strong></p>
                
                <form id="pagamento-form">
                    <div class="form-group">
                        <label for="nome-cartao">Nome no Cart√£o</label>
                        <input type="text" id="nome-cartao" placeholder="Como est√° no cart√£o" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="numero-cartao">N√∫mero do Cart√£o</label>
                        <input type="text" id="numero-cartao" placeholder="0000 0000 0000 0000" required>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <div class="form-group" style="flex: 1;">
                            <label for="validade">Validade (MM/AA)</label>
                            <input type="text" id="validade" placeholder="MM/AA" required>
                        </div>
                        
                        <div class="form-group" style="flex: 1;">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="123" required>
                        </div>
                    </div>
                    
                    <div class="alert alert-info">
                        <p><strong>Pagamento simulado:</strong> Este √© um prot√≥tipo. N√£o ser√° cobrado nada.</p>
                    </div>
                    
                    <button type="submit" class="btn btn-success btn-block">CONFIRMAR PAGAMENTO</button>
                    <button type="button" onclick="cancelarPagamento()" class="btn btn-secondary btn-block" style="margin-top: 1rem;">CANCELAR</button>
                </form>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <button onclick="mostrarTela('dashboard')" class="btn btn-secondary">IR PARA MEU DASHBOARD</button>
            </div>
        </section>

        <!-- ===== TELA 6: DASHBOARD ===== -->
        <section id="tela-dashboard" class="tela">
            <div class="hero" style="padding: 2rem 0;">
                <h1>Seu Dashboard</h1>
                <p>Bem-vindo √† sua √°rea de acompanhamento</p>
            </div>

            <!-- Status do Plano -->
            <div class="card" style="max-width: 800px; margin: 0 auto 2rem;">
                <h2 style="color: #1a3c8b; margin-bottom: 1rem;">Seu Plano</h2>
                <div id="plano-info">
                    <p>Carregando informa√ß√µes do seu plano...</p>
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <button onclick="mostrarTela('planos')" class="btn btn-secondary">ALTERAR PLANO</button>
                </div>
            </div>

            <!-- Processos Monitorados -->
            <div class="card" style="max-width: 800px; margin: 0 auto 2rem;">
                <h2 style="color: #1a3c8b; margin-bottom: 1rem;">Seus Processos</h2>
                
                <div id="lista-processos">
                    <p>Nenhum processo cadastrado ainda.</p>
                </div>
                
                <div style="text-align: center; margin-top: 1.5rem;">
                    <button onclick="mostrarTela('consulta')" class="btn">ADICIONAR NOVO PROCESSO</button>
                </div>
            </div>

            <!-- Relat√≥rios -->
            <div class="card" style="max-width: 800px; margin: 0 auto 2rem;" id="relatorios-container">
                <h2 style="color: #1a3c8b; margin-bottom: 1rem;">Relat√≥rios</h2>
                <div id="lista-relatorios">
                    <p>Voc√™ ainda n√£o tem relat√≥rios gerados.</p>
                </div>
                <div style="text-align: center; margin-top: 1.5rem;">
                    <button onclick="solicitarRelatorio()" class="btn">SOLICITAR NOVO RELAT√ìRIO</button>
                </div>
            </div>

            <!-- Acompanhamento -->
            <div class="card" style="max-width: 800px; margin: 0 auto;">
                <h2 style="color: #1a3c8b; margin-bottom: 1rem;">Acompanhamento do Processo</h2>
                
                <div id="acompanhamento-container">
                    <p>Selecione um processo na lista acima para ver o acompanhamento.</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        // ===== CONFIGURA√á√ÉO DA API =====
        const API_URL = 'https://script.google.com/macros/s/AKfycbyS0s4DVliPnm5W2xa_EETWD4PGKpgMCX-yxCwwbpPLlyNo7vD3cElrupXrxdjQXC2O/exec';
        
        // ===== SISTEMA DE GERENCIAMENTO =====
        let usuarioLogado = null;
        let planoSelecionado = '';
        
        // ===== INICIALIZA√á√ÉO =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Sistema Processo Claro iniciado');
            verificarLogin();
            atualizarMenu();
            
            // Event Listeners
            document.getElementById('form-cadastro').addEventListener('submit', cadastrarUsuario);
            document.getElementById('form-login').addEventListener('submit', fazerLogin);
            document.getElementById('form-consulta').addEventListener('submit', fazerConsulta);
            document.getElementById('pagamento-form').addEventListener('submit', finalizarPagamento);
            document.getElementById('form-solicitar-recuperacao').addEventListener('submit', solicitarRecuperacao);
            document.getElementById('form-alterar-senha').addEventListener('submit', alterarSenha);
        });
        
        // ===== FUN√á√ïES DE API SIMPLIFICADAS =====
        
        async function fazerRequisicaoAPI(acao, dados) {
            console.log(`üì§ Tentando enviar ${acao} para API:`, dados);
            
            // M√©todo SIMPLES que funciona com Google Apps Script
            try {
                // Cria par√¢metros de URL
                const params = new URLSearchParams();
                params.append('action', acao);
                
                // Adiciona todos os dados
                for (const key in dados) {
                    params.append(key, dados[key]);
                }
                
                // Usa uma imagem para enviar dados (m√©todo que evita CORS)
                const url = `${API_URL}?${params.toString()}`;
                console.log('URL da requisi√ß√£o:', url);
                
                // Cria uma imagem invis√≠vel para disparar a requisi√ß√£o
                const img = new Image();
                img.src = url;
                
                console.log('‚úÖ Requisi√ß√£o disparada via m√©todo imagem');
                
                return {
                    success: true,
                    message: `Dados enviados para API: ${acao}`,
                    action: acao,
                    dados: dados,
                    timestamp: new Date().toISOString()
                };
                
            } catch (erro) {
                console.error('‚ùå Erro ao enviar para API:', erro);
                
                // Modo simulado para desenvolvimento
                return {
                    success: false,
                    message: `API offline - usando modo simulado: ${acao}`,
                    modo_simulado: true,
                    dados: dados,
                    timestamp: new Date().toISOString()
                };
            }
        }
        
        // ===== SISTEMA DE LOGIN =====
        
        function verificarLogin() {
            const usuarioData = localStorage.getItem('usuarioLogado');
            if (usuarioData) {
                usuarioLogado = JSON.parse(usuarioData);
                mostrarTela('dashboard');
            } else {
                mostrarTela('inicio');
            }
        }
        
        function atualizarMenu() {
            const nav = document.getElementById('nav-menu');
            nav.innerHTML = '';
            
            if (usuarioLogado) {
                nav.innerHTML = `
                    <span style="color: white; margin-right: 1rem;">Ol√°, ${usuarioLogado.nome ? usuarioLogado.nome.split(' ')[0] : 'Usu√°rio'}</span>
                    <a href="#" onclick="mostrarTela('dashboard')">Dashboard</a>
                    <a href="#" onclick="mostrarTela('consulta')">Nova Consulta</a>
                    <a href="#" onclick="mostrarTela('planos')">Planos</a>
                    <a href="#" onclick="sair()">Sair</a>
                `;
            } else {
                nav.innerHTML = `
                    <a href="#" onclick="mostrarTela('inicio')">In√≠cio</a>
                    <a href="#" onclick="mostrarTela('login')">Login</a>
                    <a href="#" onclick="mostrarTela('recuperacao')">Esqueci a Senha</a>
                `;
            }
        }
        
        // ===== TROCA ENTRE TELAS =====
        function mostrarTela(nomeTela) {
            // Esconde todas as telas
            document.querySelectorAll('.tela').forEach(tela => {
                tela.classList.remove('ativa');
            });
            
            // Mostra a tela solicitada
            const telaAlvo = document.getElementById(`tela-${nomeTela}`);
            if (telaAlvo) {
                telaAlvo.classList.add('ativa');
            }
            
            // Reset da tela de recupera√ß√£o quando mostrar
            if (nomeTela === 'recuperacao') {
                voltarEtapa1Recuperacao();
            }
            
            // A√ß√µes espec√≠ficas para cada tela
            if (nomeTela === 'dashboard' && usuarioLogado) {
                carregarDashboard();
            }
            
            if (nomeTela === 'consulta') {
                document.getElementById('resultado-consulta').style.display = 'none';
            }
            
            if (nomeTela === 'planos') {
                document.getElementById('pagamento-container').style.display = 'none';
            }
        }
        
        // ===== CADASTRO DE USU√ÅRIO =====
        
        async function cadastrarUsuario(e) {
            e.preventDefault();
            
            // Valida√ß√µes b√°sicas
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmar-senha-cadastro').value;
            
            if (senha !== confirmarSenha) {
                alert('‚ùå As senhas n√£o coincidem!');
                return;
            }
            
            if (senha.length < 6) {
                alert('‚ùå A senha deve ter no m√≠nimo 6 caracteres!');
                return;
            }
            
            // Mostrar loader
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            btn.textContent = 'CADASTRANDO...';
            btn.disabled = true;
            
            const usuario = {
                nome: document.getElementById('nome').value,
                email: document.getElementById('email').value,
                whatsapp: document.getElementById('whatsapp').value,
                senha: senha
            };
            
            // Tenta enviar para API
            const resultadoAPI = await fazerRequisicaoAPI('cadastrar', usuario);
            console.log('Resultado API cadastro:', resultadoAPI);
            
            // Restaurar bot√£o
            btn.textContent = originalText;
            btn.disabled = false;
            
            // Simula cadastro bem-sucedido
            const usuarioSimulado = {
                id: 'USR_' + Date.now(),
                nome: usuario.nome,
                email: usuario.email,
                whatsapp: usuario.whatsapp,
                plano: 'gratuito'
            };
            
            // Salva usu√°rio no localStorage
            localStorage.setItem('usuarioLogado', JSON.stringify(usuarioSimulado));
            usuarioLogado = usuarioSimulado;
            
            // Atualiza menu e mostra consulta
            atualizarMenu();
            mostrarTela('consulta');
            
            // Mensagem apropriada
            if (resultadoAPI.modo_simulado) {
                alert('‚úÖ Cadastro realizado localmente!\n‚ö†Ô∏è API offline - dados n√£o foram para o Google Sheets.');
            } else {
                alert('‚úÖ Cadastro realizado com sucesso! Dados enviados para o Google Sheets.');
            }
            
            // Limpa formul√°rio
            document.getElementById('form-cadastro').reset();
        }
        
        // ===== LOGIN =====
        
        async function fazerLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const senha = document.getElementById('login-senha').value;
            
            // Mostrar loader
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            btn.textContent = 'ENTRANDO...';
            btn.disabled = true;
            
            // Tenta enviar para API
            const resultadoAPI = await fazerRequisicaoAPI('login', {
                email: email,
                senha: senha
            });
            
            // Restaurar bot√£o
            btn.textContent = originalText;
            btn.disabled = false;
            
            // Simula usu√°rio
            const usuarioSimulado = {
                id: 'USR_123456',
                nome: 'Usu√°rio Teste',
                email: email,
                whatsapp: '(11) 99999-9999',
                plano: 'gratuito'
            };
            
            // Salva usu√°rio no localStorage
            localStorage.setItem('usuarioLogado', JSON.stringify(usuarioSimulado));
            usuarioLogado = usuarioSimulado;
            
            // Atualiza menu
            atualizarMenu();
            
            // Mostra dashboard
            mostrarTela('dashboard');
            
            // Limpa formul√°rio
            document.getElementById('form-login').reset();
            
            // Mensagem de sucesso
            alert('‚úÖ Login realizado com sucesso!');
        }
        
        // ===== RECUPERA√á√ÉO DE SENHA =====
        
        async function solicitarRecuperacao(e) {
            e.preventDefault();
            
            const email = document.getElementById('email-recuperacao').value;
            
            if (!email || !email.includes('@')) {
                mostrarMensagemRecuperacao('‚ùå Digite um e-mail v√°lido', 'error');
                return;
            }
            
            // Mostrar loader
            document.getElementById('loader-recuperacao').style.display = 'block';
            document.getElementById('mensagem-recuperacao').innerHTML = '';
            
            // Tenta enviar para API
            const resultadoAPI = await fazerRequisicaoAPI('recuperar_senha', {
                email: email
            });
            
            // Esconder loader
            document.getElementById('loader-recuperacao').style.display = 'none';
            
            // Simula token gerado
            const tokenTeste = 'TOKEN_' + Date.now().toString(36).toUpperCase().substr(0, 8);
            
            // Salva email para pr√≥xima etapa
            document.getElementById('email-token').value = email;
            
            // MOSTRAR MENSAGEM
            mostrarMensagemRecuperacao(`
                <strong>‚úÖ Token de recupera√ß√£o gerado!</strong><br>
                <small>Token para testes: <strong>${tokenTeste}</strong></small><br>
                <small>E-mail: ${email}</small>
            `, 'success');
            
            // Mostra etapa 2 ap√≥s 2 segundos
            setTimeout(() => {
                document.getElementById('etapa1-recuperacao').style.display = 'none';
                document.getElementById('etapa2-recuperacao').style.display = 'block';
                document.getElementById('mensagem-recuperacao').innerHTML = '';
            }, 2000);
        }
        
        async function alterarSenha(e) {
            e.preventDefault();
            
            const email = document.getElementById('email-token').value;
            const token = document.getElementById('token-recuperacao').value;
            const novaSenha = document.getElementById('nova-senha').value;
            const confirmarSenha = document.getElementById('confirmar-senha').value;
            
            // Valida√ß√µes
            if (novaSenha !== confirmarSenha) {
                mostrarMensagemRecuperacao('‚ùå As senhas n√£o coincidem!', 'error');
                return;
            }
            
            if (novaSenha.length < 6) {
                mostrarMensagemRecuperacao('‚ùå A senha deve ter no m√≠nimo 6 caracteres!', 'error');
                return;
            }
            
            // Mostrar loader
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.textContent;
            btn.textContent = 'ALTERANDO...';
            btn.disabled = true;
            
            // Tenta enviar para API
            const resultadoAPI = await fazerRequisicaoAPI('alterar_senha', {
                email: email,
                token: token,
                nova_senha: novaSenha
            });
            
            btn.textContent = originalText;
            btn.disabled = false;
            
            mostrarMensagemRecuperacao('‚úÖ Senha alterada com sucesso!', 'success');
            
            // Aguarda 2 segundos e redireciona para login
            setTimeout(() => {
                mostrarTela('login');
                // Limpa formul√°rios
                document.getElementById('form-alterar-senha').reset();
                document.getElementById('form-solicitar-recuperacao').reset();
                document.getElementById('mensagem-recuperacao').innerHTML = '';
                voltarEtapa1Recuperacao();
            }, 2000);
        }
        
        function mostrarMensagemRecuperacao(mensagem, tipo) {
            const div = document.getElementById('mensagem-recuperacao');
            
            if (tipo === 'success') {
                div.innerHTML = `<div class="success-message">${mensagem}</div>`;
            } else {
                div.innerHTML = `<div class="error-message">${mensagem}</div>`;
            }
        }
        
        function voltarEtapa1Recuperacao() {
            document.getElementById('etapa2-recuperacao').style.display = 'none';
            document.getElementById('etapa1-recuperacao').style.display = 'block';
            document.getElementById('mensagem-recuperacao').innerHTML = '';
            document.getElementById('form-solicitar-recuperacao').reset();
        }
        
        // ===== CONSULTA DE PROCESSOS =====
        function fazerConsulta(e) {
            e.preventDefault();
            
            if (!usuarioLogado) {
                alert('‚ùå Fa√ßa login primeiro!');
                mostrarTela('login');
                return;
            }
            
            const processo = document.getElementById('numero-processo').value;
            
            if (processo.length < 5) {
                alert('‚ùå Digite um n√∫mero de processo v√°lido');
                return;
            }
            
            // Salva no hist√≥rico
            let historico = JSON.parse(localStorage.getItem(`historico_${usuarioLogado.email}`) || '[]');
            historico.push({
                processo: processo,
                data: new Date().toLocaleString(),
                tipo: 'consulta_gratis'
            });
            localStorage.setItem(`historico_${usuarioLogado.email}`, JSON.stringify(historico));
            
            // Mostra resultado
            document.getElementById('resultado-consulta').style.display = 'block';
            
            // Rola para o resultado
            document.getElementById('resultado-consulta').scrollIntoView({ behavior: 'smooth' });
        }
        
        // ===== PLANOS E PAGAMENTO =====
        function selecionarPlano(plano) {
            planoSelecionado = plano;
            
            let nomePlano = '';
            switch(plano) {
                case 'basico': nomePlano = 'Acompanhamento B√°sico (R$ 9,90/m√™s)'; break;
                case 'completo': nomePlano = 'Relat√≥rio Completo (R$ 29,90/m√™s)'; break;
                case 'pontual': nomePlano = 'An√°lise Pontual (R$ 49,90)'; break;
            }
            
            document.getElementById('plano-selecionado').textContent = nomePlano;
            document.getElementById('pagamento-container').style.display = 'block';
            document.getElementById('pagamento-container').scrollIntoView({ behavior: 'smooth' });
        }
        
        function cancelarPagamento() {
            document.getElementById('pagamento-container').style.display = 'none';
        }
        
        function finalizarPagamento(e) {
            e.preventDefault();
            
            if (!usuarioLogado) {
                alert('‚ùå Fa√ßa login primeiro!');
                mostrarTela('login');
                return;
            }
            
            // Salva plano do usu√°rio
            localStorage.setItem(`plano_${usuarioLogado.email}`, planoSelecionado);
            
            alert('‚úÖ Pagamento confirmado! Plano ativado com sucesso.');
            mostrarTela('dashboard');
            
            // Limpa formul√°rio
            document.getElementById('pagamento-form').reset();
        }
        
        // ===== DASHBOARD =====
        function carregarDashboard() {
            if (!usuarioLogado) return;
            
            // Carrega informa√ß√µes do plano
            const plano = localStorage.getItem(`plano_${usuarioLogado.email}`);
            const planoInfo = document.getElementById('plano-info');
            
            if (plano) {
                let nomePlano = '';
                let descricao = '';
                
                switch(plano) {
                    case 'basico':
                        nomePlano = 'Acompanhamento B√°sico';
                        descricao = 'R$ 9,90/m√™s ‚Ä¢ Atualiza√ß√µes em 24h';
                        break;
                    case 'completo':
                        nomePlano = 'Relat√≥rio Completo';
                        descricao = 'R$ 29,90/m√™s ‚Ä¢ Relat√≥rios mensais em PDF';
                        break;
                    case 'pontual':
                        nomePlano = 'An√°lise Pontual';
                        descricao = 'R$ 49,90 (√∫nico) ‚Ä¢ Relat√≥rio √∫nico';
                        break;
                }
                
                planoInfo.innerHTML = `
                    <h3 style="color: #4dabf7; margin-bottom: 0.5rem;">${nomePlano}</h3>
                    <p>${descricao}</p>
                `;
                
                // Esconde relat√≥rios se for plano b√°sico
                if (plano === 'basico') {
                    document.getElementById('relatorios-container').style.display = 'none';
                } else {
                    document.getElementById('relatorios-container').style.display = 'block';
                }
            } else {
                planoInfo.innerHTML = `
                    <div class="alert alert-warning">
                        <p><strong>Plano Gratuito</strong></p>
                        <p>Voc√™ est√° no plano gratuito. Assine um plano para ter acesso completo.</p>
                    </div>
                `;
                document.getElementById('relatorios-container').style.display = 'none';
            }
            
            // Carrega processos
            carregarProcessos();
            
            // Carrega relat√≥rios se houver
            carregarRelatorios();
        }
        
        function carregarProcessos() {
            const historico = JSON.parse(localStorage.getItem(`historico_${usuarioLogado.email}`) || '[]');
            const lista = document.getElementById('lista-processos');
            
            if (historico.length > 0) {
                let html = '';
                historico.forEach((item, index) => {
                    if (item.processo) {
                        html += `
                            <div class="process-step" style="cursor: pointer;" onclick="verProcessoDetalhes('${item.processo}')">
                                <div class="step-icon">${index + 1}</div>
                                <div>
                                    <h3 style="margin-bottom: 0.2rem;">${item.processo}</h3>
                                    <p style="font-size: 0.9rem; color: #666;">Consultado em: ${item.data}</p>
                                </div>
                            </div>
                        `;
                    }
                });
                lista.innerHTML = html;
            } else {
                lista.innerHTML = '<p>Nenhum processo cadastrado ainda.</p>';
            }
        }
        
        function verProcessoDetalhes(numero) {
            document.getElementById('acompanhamento-container').innerHTML = `
                <h3 style="color: #1a3c8b; margin-bottom: 1rem;">Processo: ${numero}</h3>
                
                <div class="process-step">
                    <div class="step-icon">1</div>
                    <div>
                        <h4 style="margin-bottom: 0.2rem;">Status Atual</h4>
                        <p><strong style="color: #4dabf7;">Aguardando audi√™ncia</strong></p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-icon">2</div>
                    <div>
                        <h4 style="margin-bottom: 0.2rem;">√öltima Movimenta√ß√£o</h4>
                        <p>Peti√ß√£o inicial protocolada em 15/03/2024</p>
                    </div>
                </div>
                
                <div class="process-step">
                    <div class="step-icon">3</div>
                    <div>
                        <h4 style="margin-bottom: 0.2rem;">Pr√≥ximos Passos</h4>
                        <p>Designa√ß√£o de audi√™ncia - estimado em 30 dias</p>
                    </div>
                </div>
            `;
        }
        
        function solicitarRelatorio() {
            if (!usuarioLogado) {
                alert('‚ùå Fa√ßa login primeiro!');
                mostrarTela('login');
                return;
            }
            
            const processo = prompt("Digite o n√∫mero do processo para o relat√≥rio:");
            
            if (processo && processo.length > 5) {
                // Salva relat√≥rio
                let relatorios = JSON.parse(localStorage.getItem(`relatorios_${usuarioLogado.email}`) || '[]');
                relatorios.push({
                    processo: processo,
                    data: new Date().toLocaleString(),
                    status: 'solicitado'
                });
                localStorage.setItem(`relatorios_${usuarioLogado.email}`, JSON.stringify(relatorios));
                
                alert('‚úÖ Relat√≥rio solicitado! Ser√° enviado por e-mail em at√© 48h.');
                carregarRelatorios();
            }
        }
        
        function carregarRelatorios() {
            const relatorios = JSON.parse(localStorage.getItem(`relatorios_${usuarioLogado.email}`) || '[]');
            const lista = document.getElementById('lista-relatorios');
            
            if (relatorios.length > 0) {
                let html = '';
                relatorios.forEach((rel, index) => {
                    html += `
                        <div class="process-step">
                            <div class="step-icon">üìÑ</div>
                            <div>
                                <h3 style="margin-bottom: 0.2rem;">Relat√≥rio ${index + 1}</h3>
                                <p style="font-size: 0.9rem; color: #666;">
                                    Processo: ${rel.processo} ‚Ä¢ Emitido: ${rel.data}
                                </p>
                                <button onclick="baixarRelatorio(${index})" class="btn" style="padding: 5px 15px; font-size: 0.9rem; margin-top: 0.5rem;">
                                    BAIXAR PDF
                                </button>
                            </div>
                        </div>
                    `;
                });
                lista.innerHTML = html;
            } else {
                lista.innerHTML = '<p>Voc√™ ainda n√£o tem relat√≥rios gerados.</p>';
            }
        }
        
        function baixarRelatorio(index) {
            alert('üìÑ Download do relat√≥rio iniciado (simulado).\nEm produ√ß√£o, geraria um PDF real.');
        }
        
        // ===== LOGOUT =====
        function sair() {
            if (confirm('Tem certeza que deseja sair?')) {
                localStorage.removeItem('usuarioLogado');
                usuarioLogado = null;
                atualizarMenu();
                mostrarTela('inicio');
            }
        }
    </script>
</body>
</html>